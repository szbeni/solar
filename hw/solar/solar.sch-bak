EESchema Schematic File Version 4
LIBS:solar-cache
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	1850 3000 1700 3000
Text GLabel 1700 3000 0    50   Input ~ 0
UART_TX
Wire Wire Line
	1700 3100 1850 3100
Text GLabel 1700 3100 0    50   Input ~ 0
UART_RX
Wire Wire Line
	1850 2100 1650 2100
Wire Wire Line
	1850 2200 1650 2200
Text GLabel 1650 2200 0    50   Input ~ 0
OSC32_OUT
Text GLabel 1650 2100 0    50   Input ~ 0
OSC32_IN
Wire Wire Line
	1850 1700 1650 1700
Wire Wire Line
	1850 1800 1650 1800
Text GLabel 1650 1700 0    50   Input ~ 0
OSC8M_IN
Text GLabel 1650 1800 0    50   Input ~ 0
OSC8M_OUT
Wire Wire Line
	3150 3700 3350 3700
Wire Wire Line
	3150 3800 3350 3800
Text GLabel 3350 3800 2    50   Input ~ 0
SWCLK
Text GLabel 3350 3700 2    50   Input ~ 0
SWDIO
Wire Wire Line
	3150 2400 3400 2400
Text GLabel 3400 2400 2    50   Input ~ 0
ADC_SOLAR_V
Wire Wire Line
	9350 2450 9350 2400
$Comp
L power:GND #PWR?
U 1 1 5D3BC733
P 9350 2450
F 0 "#PWR?" H 9350 2200 50  0001 C CNN
F 1 "GND" H 9355 2277 50  0000 C CNN
F 2 "" H 9350 2450 50  0001 C CNN
F 3 "" H 9350 2450 50  0001 C CNN
	1    9350 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	9150 2050 9350 2050
Wire Wire Line
	9350 2100 9350 2050
$Comp
L Device:C C?
U 1 1 5D3B7BC6
P 9350 2250
F 0 "C?" H 9465 2296 50  0000 L CNN
F 1 "1nF" H 9465 2205 50  0000 L CNN
F 2 "" H 9388 2100 50  0001 C CNN
F 3 "~" H 9350 2250 50  0001 C CNN
	1    9350 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 2600 8350 2150
Wire Wire Line
	10050 2600 8350 2600
Wire Wire Line
	10050 1850 10050 2600
Wire Wire Line
	10200 1850 10050 1850
Wire Wire Line
	7350 2700 10200 2700
Wire Wire Line
	10200 2700 10200 1950
Connection ~ 7350 2700
$Comp
L Connector:Screw_Terminal_01x02 J?
U 1 1 5D3A1E85
P 10400 1850
F 0 "J?" H 10480 1842 50  0000 L CNN
F 1 "Solar_OUT" H 10480 1751 50  0000 L CNN
F 2 "" H 10400 1850 50  0001 C CNN
F 3 "~" H 10400 1850 50  0001 C CNN
	1    10400 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 2700 7350 2650
Wire Wire Line
	7200 2700 7350 2700
Wire Wire Line
	7200 1850 7200 2700
Wire Wire Line
	6750 1850 7200 1850
Text GLabel 7500 2300 2    50   Input ~ 0
ADC_SOLAR_V
Wire Wire Line
	7350 2300 7350 2200
Connection ~ 7350 2300
Wire Wire Line
	7350 2300 7500 2300
$Comp
L Device:R R?
U 1 1 5D326AA8
P 6650 1200
F 0 "R?" H 6720 1246 50  0000 L CNN
F 1 "3k" H 6720 1155 50  0000 L CNN
F 2 "" V 6580 1200 50  0001 C CNN
F 3 "~" H 6650 1200 50  0001 C CNN
	1    6650 1200
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D326FCA
P 7350 2500
F 0 "R?" H 7420 2546 50  0000 L CNN
F 1 "1k8" H 7420 2455 50  0000 L CNN
F 2 "" V 7280 2500 50  0001 C CNN
F 3 "~" H 7350 2500 50  0001 C CNN
	1    7350 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 2350 7350 2300
$Comp
L Connector:Screw_Terminal_01x02 J?
U 1 1 5D34AE75
P 6550 1850
F 0 "J?" H 6468 1525 50  0000 C CNN
F 1 "Solar_IN" H 6468 1616 50  0000 C CNN
F 2 "" H 6550 1850 50  0001 C CNN
F 3 "~" H 6550 1850 50  0001 C CNN
	1    6550 1850
	-1   0    0    1   
$EndComp
$Comp
L Sensor_Current:ACS712xLCTR-30A U?
U 1 1 5D3231B1
P 8750 1950
F 0 "U?" V 8796 1506 50  0000 R CNN
F 1 "ACS712xLCTR-30A" V 8705 1506 50  0000 R CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 8850 1600 50  0001 L CIN
F 3 "http://www.allegromicro.com/~/media/Files/Datasheets/ACS712-Datasheet.ashx?la=en" H 8750 1950 50  0001 C CNN
	1    8750 1950
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5D3D383A
P 8750 1400
F 0 "#PWR?" H 8750 1250 50  0001 C CNN
F 1 "+5V" H 8765 1573 50  0000 C CNN
F 2 "" H 8750 1400 50  0001 C CNN
F 3 "" H 8750 1400 50  0001 C CNN
	1    8750 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 1400 8750 1450
$Comp
L Device:C C?
U 1 1 5D3D5A6D
P 9100 1450
F 0 "C?" V 8848 1450 50  0000 C CNN
F 1 "100nF" V 8939 1450 50  0000 C CNN
F 2 "" H 9138 1300 50  0001 C CNN
F 3 "~" H 9100 1450 50  0001 C CNN
	1    9100 1450
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D3D5FC2
P 8750 2400
F 0 "#PWR?" H 8750 2150 50  0001 C CNN
F 1 "GND" H 8755 2227 50  0000 C CNN
F 2 "" H 8750 2400 50  0001 C CNN
F 3 "" H 8750 2400 50  0001 C CNN
	1    8750 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 2400 8750 2350
Wire Wire Line
	8950 1450 8750 1450
Connection ~ 8750 1450
Wire Wire Line
	8750 1450 8750 1550
Wire Wire Line
	9250 1450 9350 1450
Wire Wire Line
	9350 1450 9350 1550
$Comp
L power:GND #PWR?
U 1 1 5D3D9ADE
P 9350 1550
F 0 "#PWR?" H 9350 1300 50  0001 C CNN
F 1 "GND" H 9355 1377 50  0000 C CNN
F 2 "" H 9350 1550 50  0001 C CNN
F 3 "" H 9350 1550 50  0001 C CNN
	1    9350 1550
	1    0    0    -1  
$EndComp
$Comp
L Connector:Screw_Terminal_01x02 J?
U 1 1 5D3F5590
P 2600 5600
F 0 "J?" H 2518 5275 50  0000 C CNN
F 1 "Battery" H 2518 5366 50  0000 C CNN
F 2 "" H 2600 5600 50  0001 C CNN
F 3 "~" H 2600 5600 50  0001 C CNN
	1    2600 5600
	-1   0    0    1   
$EndComp
$Comp
L power:+12V #PWR?
U 1 1 5D3F8758
P 1150 5250
F 0 "#PWR?" H 1150 5100 50  0001 C CNN
F 1 "+12V" H 1165 5423 50  0000 C CNN
F 2 "" H 1150 5250 50  0001 C CNN
F 3 "" H 1150 5250 50  0001 C CNN
	1    1150 5250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D3FADB6
P 1150 6200
F 0 "#PWR?" H 1150 5950 50  0001 C CNN
F 1 "GND" H 1155 6027 50  0000 C CNN
F 2 "" H 1150 6200 50  0001 C CNN
F 3 "" H 1150 6200 50  0001 C CNN
	1    1150 6200
	1    0    0    -1  
$EndComp
Text GLabel 1300 5750 2    50   Input ~ 0
ADC_BAT_V
Wire Wire Line
	1150 5750 1150 5650
Connection ~ 1150 5750
Wire Wire Line
	1150 5750 1300 5750
$Comp
L Device:R R?
U 1 1 5D40B501
P 1150 5500
F 0 "R?" H 1220 5546 50  0000 L CNN
F 1 "15k" H 1220 5455 50  0000 L CNN
F 2 "" V 1080 5500 50  0001 C CNN
F 3 "~" H 1150 5500 50  0001 C CNN
	1    1150 5500
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D40B507
P 1150 5950
F 0 "R?" H 1220 5996 50  0000 L CNN
F 1 "3k9" H 1220 5905 50  0000 L CNN
F 2 "" V 1080 5950 50  0001 C CNN
F 3 "~" H 1150 5950 50  0001 C CNN
	1    1150 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	1150 5800 1150 5750
Wire Wire Line
	9700 1950 9850 1950
$Comp
L Device:R R?
U 1 1 5D420B05
P 9450 1950
F 0 "R?" V 9243 1950 50  0000 C CNN
F 1 "1k" V 9334 1950 50  0000 C CNN
F 2 "" V 9380 1950 50  0001 C CNN
F 3 "~" H 9450 1950 50  0001 C CNN
	1    9450 1950
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5D420B0B
P 9700 2150
F 0 "R?" H 9770 2196 50  0000 L CNN
F 1 "2k" H 9770 2105 50  0000 L CNN
F 2 "" V 9630 2150 50  0001 C CNN
F 3 "~" H 9700 2150 50  0001 C CNN
	1    9700 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	9700 2000 9700 1950
Text GLabel 9850 1950 1    50   Input ~ 0
ADC_SOLAR_CURR
Wire Wire Line
	9600 1950 9700 1950
Connection ~ 9700 1950
Wire Wire Line
	9150 1950 9300 1950
$Comp
L power:GND #PWR?
U 1 1 5D4328BE
P 9700 2350
F 0 "#PWR?" H 9700 2100 50  0001 C CNN
F 1 "GND" H 9705 2177 50  0000 C CNN
F 2 "" H 9700 2350 50  0001 C CNN
F 3 "" H 9700 2350 50  0001 C CNN
	1    9700 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9700 2350 9700 2300
Wire Wire Line
	3150 2600 3400 2600
Connection ~ 8950 5850
Wire Wire Line
	8950 5900 8950 5850
Wire Wire Line
	8950 5850 8350 5850
Wire Wire Line
	8950 5600 8950 5850
$Comp
L Transistor_FET:IRF540N Q?
U 1 1 5D47469E
P 8850 5400
F 0 "Q?" H 9056 5446 50  0000 L CNN
F 1 "IRF2204" H 9056 5355 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 9100 5325 50  0001 L CIN
F 3 "http://www.irf.com/product-info/datasheets/data/irf2204.pdf" H 8850 5400 50  0001 L CNN
	1    8850 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8650 5400 8350 5400
$Comp
L power:GND #PWR?
U 1 1 5D4746A8
P 8950 5900
F 0 "#PWR?" H 8950 5650 50  0001 C CNN
F 1 "GND" H 8955 5727 50  0000 C CNN
F 2 "" H 8950 5900 50  0001 C CNN
F 3 "" H 8950 5900 50  0001 C CNN
	1    8950 5900
	1    0    0    -1  
$EndComp
Text GLabel 7450 5600 0    50   Input ~ 0
SWITCH_LOAD
Wire Wire Line
	7450 5600 7650 5600
Wire Wire Line
	8350 5800 8350 5850
Wire Wire Line
	7950 5600 8000 5600
Wire Wire Line
	8350 5350 8350 5400
$Comp
L Device:R R?
U 1 1 5D44BD76
P 8350 5200
F 0 "R?" H 8280 5154 50  0000 R CNN
F 1 "10k" H 8280 5245 50  0000 R CNN
F 2 "" V 8280 5200 50  0001 C CNN
F 3 "~" H 8350 5200 50  0001 C CNN
	1    8350 5200
	-1   0    0    1   
$EndComp
Wire Wire Line
	8500 4500 8500 4450
$Comp
L power:GND #PWR?
U 1 1 5D4A425B
P 8500 4500
F 0 "#PWR?" H 8500 4250 50  0001 C CNN
F 1 "GND" H 8505 4327 50  0000 C CNN
F 2 "" H 8500 4500 50  0001 C CNN
F 3 "" H 8500 4500 50  0001 C CNN
	1    8500 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 4100 8100 4100
Connection ~ 8500 4100
Wire Wire Line
	8400 4100 8500 4100
Text GLabel 8650 4100 1    50   Input ~ 0
ADC_LOAD_CURR
Wire Wire Line
	8500 4150 8500 4100
$Comp
L Device:R R?
U 1 1 5D4A4250
P 8500 4300
F 0 "R?" H 8570 4346 50  0000 L CNN
F 1 "2k" H 8570 4255 50  0000 L CNN
F 2 "" V 8430 4300 50  0001 C CNN
F 3 "~" H 8500 4300 50  0001 C CNN
	1    8500 4300
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D4A424A
P 8250 4100
F 0 "R?" V 8043 4100 50  0000 C CNN
F 1 "1k" V 8134 4100 50  0000 C CNN
F 2 "" V 8180 4100 50  0001 C CNN
F 3 "~" H 8250 4100 50  0001 C CNN
	1    8250 4100
	0    1    1    0   
$EndComp
Wire Wire Line
	8500 4100 8650 4100
$Comp
L power:GND #PWR?
U 1 1 5D4A4243
P 8150 3700
F 0 "#PWR?" H 8150 3450 50  0001 C CNN
F 1 "GND" H 8155 3527 50  0000 C CNN
F 2 "" H 8150 3700 50  0001 C CNN
F 3 "" H 8150 3700 50  0001 C CNN
	1    8150 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 3600 8150 3700
Wire Wire Line
	8050 3600 8150 3600
Wire Wire Line
	7550 3600 7550 3700
Connection ~ 7550 3600
Wire Wire Line
	7750 3600 7550 3600
Wire Wire Line
	7550 4550 7550 4500
$Comp
L power:GND #PWR?
U 1 1 5D4A4237
P 7550 4550
F 0 "#PWR?" H 7550 4300 50  0001 C CNN
F 1 "GND" H 7555 4377 50  0000 C CNN
F 2 "" H 7550 4550 50  0001 C CNN
F 3 "" H 7550 4550 50  0001 C CNN
	1    7550 4550
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5D4A4231
P 7900 3600
F 0 "C?" V 7648 3600 50  0000 C CNN
F 1 "100nF" V 7739 3600 50  0000 C CNN
F 2 "" H 7938 3450 50  0001 C CNN
F 3 "~" H 7900 3600 50  0001 C CNN
	1    7900 3600
	0    1    1    0   
$EndComp
Wire Wire Line
	7550 3550 7550 3600
$Comp
L power:+5V #PWR?
U 1 1 5D4A422A
P 7550 3550
F 0 "#PWR?" H 7550 3400 50  0001 C CNN
F 1 "+5V" H 7565 3723 50  0000 C CNN
F 2 "" H 7550 3550 50  0001 C CNN
F 3 "" H 7550 3550 50  0001 C CNN
	1    7550 3550
	1    0    0    -1  
$EndComp
$Comp
L Sensor_Current:ACS712xLCTR-30A U?
U 1 1 5D4A4224
P 7550 4100
F 0 "U?" V 7596 3656 50  0000 R CNN
F 1 "ACS712xLCTR-30A" V 7505 3656 50  0000 R CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 7650 3750 50  0001 L CIN
F 3 "http://www.allegromicro.com/~/media/Files/Datasheets/ACS712-Datasheet.ashx?la=en" H 7550 4100 50  0001 C CNN
	1    7550 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	9000 4000 8850 4000
Wire Wire Line
	8850 4000 8850 4750
Wire Wire Line
	7150 4750 7150 4300
$Comp
L Device:C C?
U 1 1 5D4A4212
P 8150 4400
F 0 "C?" H 8265 4446 50  0000 L CNN
F 1 "1nF" H 8265 4355 50  0000 L CNN
F 2 "" H 8188 4250 50  0001 C CNN
F 3 "~" H 8150 4400 50  0001 C CNN
	1    8150 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 4250 8150 4200
Wire Wire Line
	7950 4200 8150 4200
$Comp
L power:GND #PWR?
U 1 1 5D4A420A
P 8150 4600
F 0 "#PWR?" H 8150 4350 50  0001 C CNN
F 1 "GND" H 8155 4427 50  0000 C CNN
F 2 "" H 8150 4600 50  0001 C CNN
F 3 "" H 8150 4600 50  0001 C CNN
	1    8150 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 4600 8150 4550
$Comp
L Connector:Screw_Terminal_01x02 J?
U 1 1 5D52B803
P 9200 4000
F 0 "J?" H 9280 3992 50  0000 L CNN
F 1 "Load" H 9280 3901 50  0000 L CNN
F 2 "" H 9200 4000 50  0001 C CNN
F 3 "~" H 9200 4000 50  0001 C CNN
	1    9200 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 4750 8850 4750
$Comp
L power:+12V #PWR?
U 1 1 5D55ED69
P 7150 3800
F 0 "#PWR?" H 7150 3650 50  0001 C CNN
F 1 "+12V" H 7165 3973 50  0000 C CNN
F 2 "" H 7150 3800 50  0001 C CNN
F 3 "" H 7150 3800 50  0001 C CNN
	1    7150 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	7150 3800 7150 3900
$Comp
L power:+12V #PWR?
U 1 1 5D562E7E
P 8350 5000
F 0 "#PWR?" H 8350 4850 50  0001 C CNN
F 1 "+12V" H 8365 5173 50  0000 C CNN
F 2 "" H 8350 5000 50  0001 C CNN
F 3 "" H 8350 5000 50  0001 C CNN
	1    8350 5000
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 5000 8350 5050
Wire Wire Line
	8950 5200 8950 4100
Wire Wire Line
	8950 4100 9000 4100
Wire Wire Line
	4250 5800 4450 5800
Wire Wire Line
	4450 5850 4450 5800
$Comp
L Device:C C?
U 1 1 5D5BE009
P 4450 6000
F 0 "C?" H 4565 6046 50  0000 L CNN
F 1 "1nF" H 4565 5955 50  0000 L CNN
F 2 "" H 4488 5850 50  0001 C CNN
F 3 "~" H 4450 6000 50  0001 C CNN
	1    4450 6000
	1    0    0    -1  
$EndComp
$Comp
L Sensor_Current:ACS712xLCTR-30A U?
U 1 1 5D5BE01C
P 3850 5700
F 0 "U?" V 3896 5256 50  0000 R CNN
F 1 "ACS712xLCTR-30A" V 3805 5256 50  0000 R CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 3950 5350 50  0001 L CIN
F 3 "http://www.allegromicro.com/~/media/Files/Datasheets/ACS712-Datasheet.ashx?la=en" H 3850 5700 50  0001 C CNN
	1    3850 5700
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5D5BE022
P 3850 5150
F 0 "#PWR?" H 3850 5000 50  0001 C CNN
F 1 "+5V" H 3865 5323 50  0000 C CNN
F 2 "" H 3850 5150 50  0001 C CNN
F 3 "" H 3850 5150 50  0001 C CNN
	1    3850 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3850 5150 3850 5200
$Comp
L Device:C C?
U 1 1 5D5BE029
P 4200 5200
F 0 "C?" V 3948 5200 50  0000 C CNN
F 1 "100nF" V 4039 5200 50  0000 C CNN
F 2 "" H 4238 5050 50  0001 C CNN
F 3 "~" H 4200 5200 50  0001 C CNN
	1    4200 5200
	0    1    1    0   
$EndComp
Wire Wire Line
	3850 6150 3850 6100
Wire Wire Line
	4050 5200 3850 5200
Connection ~ 3850 5200
Wire Wire Line
	3850 5200 3850 5300
Wire Wire Line
	4350 5200 4450 5200
Wire Wire Line
	4450 5200 4450 5300
$Comp
L power:GND #PWR?
U 1 1 5D5BE03B
P 4450 5300
F 0 "#PWR?" H 4450 5050 50  0001 C CNN
F 1 "GND" H 4455 5127 50  0000 C CNN
F 2 "" H 4450 5300 50  0001 C CNN
F 3 "" H 4450 5300 50  0001 C CNN
	1    4450 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4800 5700 4950 5700
$Comp
L Device:R R?
U 1 1 5D5BE042
P 4550 5700
F 0 "R?" V 4343 5700 50  0000 C CNN
F 1 "1k" V 4434 5700 50  0000 C CNN
F 2 "" V 4480 5700 50  0001 C CNN
F 3 "~" H 4550 5700 50  0001 C CNN
	1    4550 5700
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5D5BE048
P 4800 5900
F 0 "R?" H 4870 5946 50  0000 L CNN
F 1 "2k" H 4870 5855 50  0000 L CNN
F 2 "" V 4730 5900 50  0001 C CNN
F 3 "~" H 4800 5900 50  0001 C CNN
	1    4800 5900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4800 5750 4800 5700
Text GLabel 4950 5700 2    50   Input ~ 0
ADC_BAT_CURR
Wire Wire Line
	4700 5700 4800 5700
Connection ~ 4800 5700
Wire Wire Line
	4250 5700 4400 5700
Wire Wire Line
	3450 5900 3250 5900
$Comp
L power:+12V #PWR?
U 1 1 5D5E8F45
P 3250 5850
F 0 "#PWR?" H 3250 5700 50  0001 C CNN
F 1 "+12V" H 3265 6023 50  0000 C CNN
F 2 "" H 3250 5850 50  0001 C CNN
F 3 "" H 3250 5850 50  0001 C CNN
	1    3250 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 5850 3250 5900
Wire Wire Line
	1150 6100 1150 6200
Wire Wire Line
	1150 5250 1150 5350
Wire Wire Line
	3450 5500 2800 5500
Wire Wire Line
	2800 5600 2850 5600
Wire Wire Line
	2850 5600 2850 5900
$Comp
L power:GND #PWR?
U 1 1 5D637C34
P 3850 6150
F 0 "#PWR?" H 3850 5900 50  0001 C CNN
F 1 "GND" H 3855 5977 50  0000 C CNN
F 2 "" H 3850 6150 50  0001 C CNN
F 3 "" H 3850 6150 50  0001 C CNN
	1    3850 6150
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D638C14
P 2850 5900
F 0 "#PWR?" H 2850 5650 50  0001 C CNN
F 1 "GND" H 2855 5727 50  0000 C CNN
F 2 "" H 2850 5900 50  0001 C CNN
F 3 "" H 2850 5900 50  0001 C CNN
	1    2850 5900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D63AFAD
P 4450 6250
F 0 "#PWR?" H 4450 6000 50  0001 C CNN
F 1 "GND" H 4455 6077 50  0000 C CNN
F 2 "" H 4450 6250 50  0001 C CNN
F 3 "" H 4450 6250 50  0001 C CNN
	1    4450 6250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D63C85A
P 4800 6250
F 0 "#PWR?" H 4800 6000 50  0001 C CNN
F 1 "GND" H 4805 6077 50  0000 C CNN
F 2 "" H 4800 6250 50  0001 C CNN
F 3 "" H 4800 6250 50  0001 C CNN
	1    4800 6250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4800 6050 4800 6250
Wire Wire Line
	4450 6150 4450 6250
Text GLabel 5300 3450 0    50   Input ~ 0
ADC_BAT_CURR
Text GLabel 5300 3250 0    50   Input ~ 0
ADC_LOAD_CURR
Text GLabel 3400 2600 2    50   Input ~ 0
ADC_BAT_V
Text GLabel 5300 3350 0    50   Input ~ 0
ADC_SOLAR_CURR
Wire Wire Line
	1850 2400 1700 2400
Text GLabel 1700 2400 0    50   Input ~ 0
SWITCH_LOAD
Text GLabel 3400 3300 2    50   Input ~ 0
SWITCH_SOLAR
Wire Wire Line
	7300 1050 7400 1050
Text GLabel 6550 750  0    50   Input ~ 0
SWITCH_SOLAR
$Comp
L power:GND #PWR?
U 1 1 5D6BE550
P 7300 1450
F 0 "#PWR?" H 7300 1200 50  0001 C CNN
F 1 "GND" H 7305 1277 50  0000 C CNN
F 2 "" H 7300 1450 50  0001 C CNN
F 3 "" H 7300 1450 50  0001 C CNN
	1    7300 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 4100 2450 4100
Connection ~ 2450 4100
Wire Wire Line
	2450 4100 2450 4200
$Comp
L power:GND #PWR?
U 1 1 5D78AACB
P 2450 4200
F 0 "#PWR?" H 2450 3950 50  0001 C CNN
F 1 "GND" H 2455 4027 50  0000 C CNN
F 2 "" H 2450 4200 50  0001 C CNN
F 3 "" H 2450 4200 50  0001 C CNN
	1    2450 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 1050 2350 1100
Wire Wire Line
	2450 1100 2450 1050
Wire Wire Line
	2550 1100 2550 1050
Wire Wire Line
	2650 1100 2650 1050
Wire Wire Line
	2750 1100 2750 1050
Wire Wire Line
	2350 1050 2450 1050
Connection ~ 2450 1050
Wire Wire Line
	2450 1050 2550 1050
Connection ~ 2550 1050
Wire Wire Line
	2550 1050 2650 1050
Connection ~ 2650 1050
Wire Wire Line
	2650 1050 2750 1050
$Comp
L power:+3.3V #PWR?
U 1 1 5D7AAF22
P 2550 850
F 0 "#PWR?" H 2550 700 50  0001 C CNN
F 1 "+3.3V" H 2565 1023 50  0000 C CNN
F 2 "" H 2550 850 50  0001 C CNN
F 3 "" H 2550 850 50  0001 C CNN
	1    2550 850 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2550 850  2550 1050
Wire Wire Line
	3150 3200 3400 3200
Connection ~ 2550 4100
Wire Wire Line
	2550 4100 2650 4100
Wire Wire Line
	2450 4100 2550 4100
$Comp
L MCU_ST_STM32F1:STM32F103C8Tx U1
U 1 1 5D31A3E7
P 2550 2600
F 0 "U1" H 2500 1011 50  0000 C CNN
F 1 "STM32F103C8Tx" H 2500 920 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 1950 1200 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 2550 2600 50  0001 C CNN
	1    2550 2600
	1    0    0    -1  
$EndComp
Text GLabel 3400 3200 2    50   Input ~ 0
PWM_SOLAR
$Comp
L Connector_Generic:Conn_01x04 J?
U 1 1 5D4543AE
P 7600 850
F 0 "J?" H 7680 842 50  0000 L CNN
F 1 "Conn_01x04" H 7680 751 50  0000 L CNN
F 2 "" H 7600 850 50  0001 C CNN
F 3 "~" H 7600 850 50  0001 C CNN
	1    7600 850 
	1    0    0    -1  
$EndComp
$Comp
L Device:D D?
U 1 1 5D46B836
P 6800 950
F 0 "D?" H 6800 734 50  0000 C CNN
F 1 "D" H 6800 825 50  0000 C CNN
F 2 "" H 6800 950 50  0001 C CNN
F 3 "~" H 6800 950 50  0001 C CNN
	1    6800 950 
	-1   0    0    1   
$EndComp
Wire Wire Line
	7300 950  7400 950 
$Comp
L Device:R R?
U 1 1 5D481378
P 7150 950
F 0 "R?" V 6943 950 50  0000 C CNN
F 1 "15k" V 7034 950 50  0000 C CNN
F 2 "" V 7080 950 50  0001 C CNN
F 3 "~" H 7150 950 50  0001 C CNN
	1    7150 950 
	0    1    1    0   
$EndComp
Wire Wire Line
	6950 950  7000 950 
Wire Wire Line
	6550 750  6650 750 
Wire Wire Line
	6550 950  6650 950 
Text GLabel 6550 950  0    50   Input ~ 0
PWM_SOLAR
Connection ~ 6650 750 
Wire Wire Line
	6650 750  7400 750 
Wire Wire Line
	6750 1750 7350 1750
Wire Wire Line
	6650 750  6650 1050
Wire Wire Line
	6650 1350 7300 1350
Wire Wire Line
	7300 1350 7300 1450
Wire Wire Line
	7300 1050 7300 1350
Connection ~ 7300 1350
Wire Wire Line
	3150 3300 3400 3300
$Comp
L Device:R R?
U 1 1 5D50B7D6
P 7350 2050
F 0 "R?" H 7420 2096 50  0000 L CNN
F 1 "20k" H 7420 2005 50  0000 L CNN
F 2 "" V 7280 2050 50  0001 C CNN
F 3 "~" H 7350 2050 50  0001 C CNN
	1    7350 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 1900 7350 1750
Connection ~ 7350 1750
Wire Wire Line
	7350 1750 8350 1750
$Comp
L Regulator_Linear:L7805 U?
U 1 1 5D4064C3
P 2000 6900
F 0 "U?" H 2000 7142 50  0000 C CNN
F 1 "L7805" H 2000 7051 50  0000 C CNN
F 2 "" H 2025 6750 50  0001 L CIN
F 3 "http://www.st.com/content/ccc/resource/technical/document/datasheet/41/4f/b3/b0/12/d4/47/88/CD00000444.pdf/files/CD00000444.pdf/jcr:content/translations/en.CD00000444.pdf" H 2000 6850 50  0001 C CNN
	1    2000 6900
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR?
U 1 1 5D413631
P 1100 6850
F 0 "#PWR?" H 1100 6700 50  0001 C CNN
F 1 "+12V" H 1115 7023 50  0000 C CNN
F 2 "" H 1100 6850 50  0001 C CNN
F 3 "" H 1100 6850 50  0001 C CNN
	1    1100 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1500 6900 1700 6900
Wire Wire Line
	2300 6900 2400 6900
$Comp
L power:+5V #PWR?
U 1 1 5D41F9A4
P 2850 6800
F 0 "#PWR?" H 2850 6650 50  0001 C CNN
F 1 "+5V" H 2865 6973 50  0000 C CNN
F 2 "" H 2850 6800 50  0001 C CNN
F 3 "" H 2850 6800 50  0001 C CNN
	1    2850 6800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D42B973
P 2000 7450
F 0 "#PWR?" H 2000 7200 50  0001 C CNN
F 1 "GND" H 2005 7277 50  0000 C CNN
F 2 "" H 2000 7450 50  0001 C CNN
F 3 "" H 2000 7450 50  0001 C CNN
	1    2000 7450
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5D4607C8
P 1500 7100
F 0 "C?" H 1615 7146 50  0000 L CNN
F 1 "330nF" H 1615 7055 50  0000 L CNN
F 2 "" H 1538 6950 50  0001 C CNN
F 3 "~" H 1500 7100 50  0001 C CNN
	1    1500 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1500 6950 1500 6900
Connection ~ 1500 6900
Wire Wire Line
	2000 7200 2000 7400
Connection ~ 2000 7400
Wire Wire Line
	2000 7400 2000 7450
Wire Wire Line
	1500 7400 2000 7400
Wire Wire Line
	1500 7250 1500 7400
$Comp
L Device:CP C?
U 1 1 5D488975
P 1100 7100
F 0 "C?" H 1218 7146 50  0000 L CNN
F 1 "10uF" H 1218 7055 50  0000 L CNN
F 2 "" H 1138 6950 50  0001 C CNN
F 3 "~" H 1100 7100 50  0001 C CNN
	1    1100 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1500 6900 1100 6900
Wire Wire Line
	1100 6900 1100 6950
Wire Wire Line
	1100 7250 1100 7400
Wire Wire Line
	1100 7400 1500 7400
Connection ~ 1500 7400
$Comp
L Device:C C?
U 1 1 5D4B2A03
P 2400 7100
F 0 "C?" H 2515 7146 50  0000 L CNN
F 1 "100nF" H 2515 7055 50  0000 L CNN
F 2 "" H 2438 6950 50  0001 C CNN
F 3 "~" H 2400 7100 50  0001 C CNN
	1    2400 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 7250 2400 7400
Wire Wire Line
	2400 7400 2000 7400
Wire Wire Line
	2400 6950 2400 6900
Connection ~ 2400 6900
$Comp
L Device:CP C?
U 1 1 5D4C02D5
P 2850 7100
F 0 "C?" H 2968 7146 50  0000 L CNN
F 1 "10uF" H 2968 7055 50  0000 L CNN
F 2 "" H 2888 6950 50  0001 C CNN
F 3 "~" H 2850 7100 50  0001 C CNN
	1    2850 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 6950 2850 6900
Wire Wire Line
	2400 6900 2850 6900
Connection ~ 2400 7400
Wire Wire Line
	2850 7250 2850 7400
Wire Wire Line
	2400 7400 2850 7400
Wire Wire Line
	2850 6900 2850 6800
Connection ~ 2850 6900
Wire Wire Line
	1100 6850 1100 6900
Connection ~ 1100 6900
$Comp
L Device:R R?
U 1 1 5D51AA52
P 8000 5400
F 0 "R?" V 7793 5400 50  0000 C CNN
F 1 "10k" V 7884 5400 50  0000 C CNN
F 2 "" V 7930 5400 50  0001 C CNN
F 3 "~" H 8000 5400 50  0001 C CNN
	1    8000 5400
	-1   0    0    1   
$EndComp
Wire Wire Line
	8000 5550 8000 5600
Connection ~ 8000 5600
Wire Wire Line
	8000 5600 8050 5600
$Comp
L power:+3.3V #PWR?
U 1 1 5D52D570
P 8000 5150
F 0 "#PWR?" H 8000 5000 50  0001 C CNN
F 1 "+3.3V" H 8015 5323 50  0000 C CNN
F 2 "" H 8000 5150 50  0001 C CNN
F 3 "" H 8000 5150 50  0001 C CNN
	1    8000 5150
	1    0    0    -1  
$EndComp
$Comp
L Transistor_BJT:PN2222A Q?
U 1 1 5D449D40
P 8250 5600
F 0 "Q?" H 8440 5646 50  0000 L CNN
F 1 "MMBT2222A" H 8440 5555 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 8450 5525 50  0001 L CIN
F 3 "https://www.diodes.com/assets/Datasheets/ds30041.pdf" H 8250 5600 50  0001 L CNN
	1    8250 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 5150 8000 5250
$Comp
L Device:R R?
U 1 1 5D44B2C7
P 7800 5600
F 0 "R?" V 7593 5600 50  0000 C CNN
F 1 "470" V 7684 5600 50  0000 C CNN
F 2 "" V 7730 5600 50  0001 C CNN
F 3 "~" H 7800 5600 50  0001 C CNN
	1    7800 5600
	0    1    1    0   
$EndComp
$Comp
L Analog_ADC:ADS1115IDGS U?
U 1 1 5D819376
P 5800 3250
F 0 "U?" H 5800 3931 50  0000 C CNN
F 1 "ADS1115IDGS" H 5800 3840 50  0000 C CNN
F 2 "Package_SO:TSSOP-10_3x3mm_P0.5mm" H 5800 2750 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/ads1113.pdf" H 5750 2350 50  0001 C CNN
	1    5800 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5800 3650 5800 3800
$Comp
L power:GND #PWR?
U 1 1 5D835871
P 5800 3800
F 0 "#PWR?" H 5800 3550 50  0001 C CNN
F 1 "GND" H 5805 3627 50  0000 C CNN
F 2 "" H 5800 3800 50  0001 C CNN
F 3 "" H 5800 3800 50  0001 C CNN
	1    5800 3800
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5D838093
P 5800 2600
F 0 "#PWR?" H 5800 2450 50  0001 C CNN
F 1 "+5V" H 5815 2773 50  0000 C CNN
F 2 "" H 5800 2600 50  0001 C CNN
F 3 "" H 5800 2600 50  0001 C CNN
	1    5800 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	5800 2600 5800 2750
Wire Wire Line
	6200 3450 6350 3450
Wire Wire Line
	6350 3450 6350 3550
$Comp
L power:GND #PWR?
U 1 1 5D84B0CC
P 6350 3550
F 0 "#PWR?" H 6350 3300 50  0001 C CNN
F 1 "GND" H 6355 3377 50  0000 C CNN
F 2 "" H 6350 3550 50  0001 C CNN
F 3 "" H 6350 3550 50  0001 C CNN
	1    6350 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 3350 6350 3350
Wire Wire Line
	6200 3250 6350 3250
Text GLabel 6350 3250 2    50   Input ~ 0
I2C2_SCL
Text GLabel 6350 3350 2    50   Input ~ 0
I2C2_SDA
Wire Wire Line
	1850 3400 1700 3400
Wire Wire Line
	1850 3500 1700 3500
Text GLabel 1700 3400 0    50   Input ~ 0
I2C2_SCL
Text GLabel 1700 3500 0    50   Input ~ 0
I2C2_SDA
Wire Wire Line
	5400 3250 5300 3250
Wire Wire Line
	5300 3350 5400 3350
Wire Wire Line
	5300 3450 5400 3450
Text GLabel 5350 7150 0    50   Input ~ 0
SWITCH_FAN
Wire Wire Line
	5350 7150 5550 7150
Wire Wire Line
	5850 7150 5900 7150
Wire Wire Line
	6250 6900 6250 6950
$Comp
L Device:R R?
U 1 1 5D88A5F7
P 5900 6950
F 0 "R?" V 5693 6950 50  0000 C CNN
F 1 "10k" V 5784 6950 50  0000 C CNN
F 2 "" V 5830 6950 50  0001 C CNN
F 3 "~" H 5900 6950 50  0001 C CNN
	1    5900 6950
	-1   0    0    1   
$EndComp
Wire Wire Line
	5900 7100 5900 7150
Connection ~ 5900 7150
Wire Wire Line
	5900 7150 5950 7150
$Comp
L Transistor_BJT:PN2222A Q?
U 1 1 5D88A600
P 6150 7150
F 0 "Q?" H 6340 7196 50  0000 L CNN
F 1 "MMBT2222A" H 6340 7105 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 6350 7075 50  0001 L CIN
F 3 "https://www.diodes.com/assets/Datasheets/ds30041.pdf" H 6150 7150 50  0001 L CNN
	1    6150 7150
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5D88A607
P 5700 7150
F 0 "R?" V 5493 7150 50  0000 C CNN
F 1 "470" V 5584 7150 50  0000 C CNN
F 2 "" V 5630 7150 50  0001 C CNN
F 3 "~" H 5700 7150 50  0001 C CNN
	1    5700 7150
	0    1    1    0   
$EndComp
$Comp
L Connector:Screw_Terminal_01x02 J?
U 1 1 5D893225
P 6450 6800
F 0 "J?" H 6530 6792 50  0000 L CNN
F 1 "Load" H 6530 6701 50  0000 L CNN
F 2 "" H 6450 6800 50  0001 C CNN
F 3 "~" H 6450 6800 50  0001 C CNN
	1    6450 6800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5D894632
P 6250 7450
F 0 "#PWR?" H 6250 7200 50  0001 C CNN
F 1 "GND" H 6255 7277 50  0000 C CNN
F 2 "" H 6250 7450 50  0001 C CNN
F 3 "" H 6250 7450 50  0001 C CNN
	1    6250 7450
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 7350 6250 7450
Wire Wire Line
	6250 6600 5900 6600
Wire Wire Line
	5900 6600 5900 6800
Wire Wire Line
	6250 6600 6250 6800
$Comp
L power:+5V #PWR?
U 1 1 5D8AF68C
P 5900 6550
F 0 "#PWR?" H 5900 6400 50  0001 C CNN
F 1 "+5V" H 5915 6723 50  0000 C CNN
F 2 "" H 5900 6550 50  0001 C CNN
F 3 "" H 5900 6550 50  0001 C CNN
	1    5900 6550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5900 6550 5900 6600
Connection ~ 5900 6600
Text GLabel 3400 3100 2    50   Input ~ 0
SWITCH_FAN
Wire Wire Line
	3150 3100 3400 3100
$EndSCHEMATC
